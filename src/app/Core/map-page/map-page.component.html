<div class="map-container">
    <div class="map" #map id="map-canvas"></div>
    <div class="map-loader-container" *ngIf="!mapLoaded">
        <div class="map-loader"></div>
    </div>
    <div class="map-buses-side-bar" *ngIf="!isDriver">
        <img (click)="leftSidebarVisible = true" src="../../../assets/imgs/map/ic-bus.png" alt="Buses" title="Buses">
        <p-sidebar [(visible)]="leftSidebarVisible" position="left">
            <h3>Available Buses</h3>
            <input type="search" placeholder="Search for Bus" pInputText [(ngModel)]="searchBus"  (keyup)="searchBuses(searchBus)" />
            <div class="active-buses" *ngFor="let busRoute of setBusRouteData">
                <div class="box">
                    <label>{{ busRoute.userName }} ({{ busRoute.routeName }})</label>
                    <p-button (click)="ViewBusOnMap(busRoute.busLng,busRoute.busLat,busRoute.busId)" icon="pi pi-check" size="small"></p-button>
                </div>
            </div>            
        </p-sidebar>
    </div>
    <div class="map-Settings-side-bar" >
        <img (click)="rightSidebarVisible = true" src="../../../assets/imgs/map/ic-settings.png" alt="Settings" title="Settings">
        <p-sidebar [(visible)]="rightSidebarVisible" position="right">
            <h3>Settings</h3>
           <div>
            <p-panelMenu [model]="items"></p-panelMenu>
           </div>
        </p-sidebar>
    </div>
    <div class="popup">
        <p-toast></p-toast>
        <p-confirmPopup></p-confirmPopup>
    </div>

    <div *ngIf="isDriver">
        <p-button  type="button" label="Dashboard" class="dashboard"  (click)="navigateToDashboard()"></p-button>
    </div>

    <p-button *ngIf="isRoutePresent" type="button" label="Remove Route" class="removeRoute"  (click)="removeRoute()"></p-button>

    <p-button  type="button" [label]="traffic" class="ShowTrafficRemoveTraffic"  (click)="toggleShowTraffic()"></p-button>

    <div *ngIf="!isDriver">
        <p-button *ngIf="showSeeAllBuses" type="button" label="See All Buses" class="showAllBuses"  (click)="getAllActiveBusesAgain()"></p-button>
    </div>

    <div class="info" *ngIf="isInfo">
        <img (click)="infoSidebarVisible = true" src="../../../assets/imgs/map/ic-info.gif" alt="Buses" title="Buses">
        <p-sidebar [(visible)]="infoSidebarVisible" position="left" (onHide)="onSidebarHide()">
            <h3>Bus Details</h3>
            <p><b>Driver Name :</b> {{driverName}} </p>
            <p><b>From - To :</b> {{fromTo}} </p>
            <p><b>Number Of Passengers :</b> {{numberOfPassenger}}</p>
        </p-sidebar>
    </div>
</div>


